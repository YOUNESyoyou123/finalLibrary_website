import{r as p,a as O}from"./react-7_aYofMc.js";import"./classnames-DKbMLZOB.js";import{g as T,p as it,A as W,a as ut,f as lt,b as U,m as ft}from"./libphonenumber-js-C6omXdoa.js";import{P as i}from"./prop-types-DyStGP7H.js";import{I as ct}from"./input-format-Dqx6MD3l.js";function Q(t){var n=t.country,e=t.international,r=t.withCountryCallingCode,a=t.metadata;return n&&e&&!r?"+".concat(T(n,a)):""}function x(t,n){return n&&(t=t.slice(n.length),t[0]===" "&&(t=t.slice(1))),t}function st(t,n,e){if(!(e&&e.ignoreRest)){var r=function(o){if(e)switch(o){case"end":e.ignoreRest=!0;break}};return it(t,n,r)}}function X(t){var n=t.onKeyDown,e=t.international;return p.useCallback(function(r){if(r.keyCode===yt&&e&&r.target instanceof HTMLInputElement&&pt(r.target)===mt){r.preventDefault();return}n&&n(r)},[n,e])}var yt=8;function pt(t){return t.selectionStart}var mt=1,Ct=["onKeyDown","country","international","withCountryCallingCode","metadata"];function F(){return F=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},F.apply(this,arguments)}function dt(t,n){if(t==null)return{};var e=gt(t,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function gt(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function vt(t){function n(e,r){var a=e.onKeyDown,o=e.country,l=e.international,f=e.withCountryCallingCode,s=e.metadata,y=s===void 0?t:s,c=dt(e,Ct),C=p.useCallback(function(P){var v=new W(o,y),g=Q({country:o,international:l,withCountryCallingCode:f,metadata:y}),b=v.input(g+P),w=v.getTemplate();return g&&(b=x(b,g),w&&(w=x(w,g))),{text:b,template:w}},[o,y]),d=X({onKeyDown:a,international:l});return O.createElement(ct,F({},c,{ref:r,parse:st,format:C,onKeyDown:d}))}return n=O.forwardRef(n),n.propTypes={value:i.string.isRequired,onChange:i.func.isRequired,onKeyDown:i.func,country:i.string,international:i.bool,withCountryCallingCode:i.bool,metadata:i.object},n}const bt=vt();var ht=["value","onChange","onKeyDown","country","international","withCountryCallingCode","metadata","inputComponent"];function K(){return K=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},K.apply(this,arguments)}function wt(t,n){if(t==null)return{};var e=Ot(t,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function Ot(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function Pt(t){function n(e,r){var a=e.value,o=e.onChange,l=e.onKeyDown,f=e.country,s=e.international,y=e.withCountryCallingCode,c=e.metadata,C=c===void 0?t:c,d=e.inputComponent,P=d===void 0?"input":d,v=wt(e,ht),g=Q({country:f,international:s,withCountryCallingCode:y,metadata:C}),b=p.useCallback(function(S){var j=ut(S.target.value);if(j===a){var R=G(g,j,f,C);R.indexOf(S.target.value)===0&&(j=j.slice(0,-1))}o(j)},[g,a,o,f,C]),w=X({onKeyDown:l,international:s});return O.createElement(P,K({},v,{ref:r,value:G(g,a,f,C),onChange:b,onKeyDown:w}))}return n=O.forwardRef(n),n.propTypes={value:i.string.isRequired,onChange:i.func.isRequired,onKeyDown:i.func,country:i.string,international:i.bool,withCountryCallingCode:i.bool,metadata:i.object,inputComponent:i.elementType},n}const jt=Pt();function G(t,n,e,r){return x(lt(t+n,e,r),t)}var It=i.shape({country_calling_codes:i.object.isRequired,countries:i.object.isRequired});i.objectOf(i.string);function Z(t,n){var e="+"+T(t,n);return e}function A(t,n){return At(t)||_t(t,n)||$t(t,n)||St()}function St(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(t,n){if(t){if(typeof t=="string")return z(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return z(t,n)}}function z(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function _t(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var r=[],a=!0,o=!1,l,f;try{for(e=e.call(t);!(a=(l=e.next()).done)&&(r.push(l.value),!(n&&r.length===n));a=!0);}catch(s){o=!0,f=s}finally{try{!a&&e.return!=null&&e.return()}finally{if(o)throw f}}return r}}function At(t){if(Array.isArray(t))return t}function Tt(t){var n=this,e=t.value,r=t.onChange,a=t.country,o=t.defaultCountry,l=t.international,f=t.withCountryCallingCode,s=t.useNationalFormatForDefaultCountryValue,y=t.metadata,c=p.useRef(),C=function(m,h,_){console.error("[react-phone-number-input] Expected phone number ".concat(m," to correspond to country ").concat(h," but ").concat(_?"in reality it corresponds to country "+_:"it doesn't",".")),c.current=!0},d=function(m){return Dt(e,a,l,f,o,s,y,function(){m&&m.onCountryMismatch&&m.onCountryMismatch();for(var h=arguments.length,_=new Array(h),E=0;E<h;E++)_[E]=arguments[E];C.apply(n,_)})},P=p.useState(a),v=A(P,2),g=v[0],b=v[1],w=p.useState(o),S=A(w,2),j=S[0],R=S[1],et=p.useState(d()),L=A(et,2),nt=L[0],I=L[1],rt=p.useState(e),q=A(rt,2),D=q[0],$=q[1],at=p.useState(),M=A(at,2);M[0];var H=M[1],Y=p.useCallback(function(){return H({})},[H]);function B(u){if(u){a&&l&&!f&&(u="+".concat(T(a,y)).concat(u));var m=new W(a||o,y);return m.input(u),m.getNumberValue()}}p.useEffect(function(){e!==D&&($(e),I(d()))},[e]),p.useEffect(function(){if(a!==g){b(a);var u,m=d({onCountryMismatch:function(){u=!0}});I(m),u&&$(B(m))}},[a]),p.useEffect(function(){o!==j&&(R(o),I(d()))},[o]),p.useEffect(function(){D!==e&&r(D)},[D]);var ot=p.useCallback(function(u){var m;if(a)if(l&&f){var h=Z(a,y);if(u.indexOf(h)!==0){if(u&&u[0]!=="+")u=h+u;else if(!c.current)return I(h),$(void 0),Y()}}else u&&u[0]==="+"&&(u=u.slice(1));else o||u&&u[0]!=="+"&&(u="+"+u);u&&(m=B(u)),I(u),$(m)},[a,l,f,o,y,I,$,Y,c]);return[nt,ot]}function Dt(t,n,e,r,a,o,l,f){if(n&&e&&r){var s=Z(n,l);return t?(t.indexOf(s)!==0&&f(t,n),t):s}if(!t)return"";if(!n&&!a)return t;var y=new W(void 0,l);y.input(t);var c=y.getNumber();return c?n?(c.country&&c.country!==n?f(t,n,c.country):c.countryCallingCode!==T(n,l)&&f(t,n),e?c.nationalNumber:U(c.formatNational())):c.countryCallingCode&&c.countryCallingCode===T(a,l)&&o?U(c.formatNational()):t:""}var Et=["Component","country","defaultCountry","useNationalFormatForDefaultCountryValue","value","onChange","metadata","international","withCountryCallingCode"];function V(){return V=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},V.apply(this,arguments)}function Nt(t,n){return Kt(t)||Ft(t,n)||xt(t,n)||Rt()}function Rt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xt(t,n){if(t){if(typeof t=="string")return J(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return J(t,n)}}function J(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Ft(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var r=[],a=!0,o=!1,l,f;try{for(e=e.call(t);!(a=(l=e.next()).done)&&(r.push(l.value),!(n&&r.length===n));a=!0);}catch(s){o=!0,f=s}finally{try{!a&&e.return!=null&&e.return()}finally{if(o)throw f}}return r}}function Kt(t){if(Array.isArray(t))return t}function Vt(t,n){if(t==null)return{};var e=kt(t,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function kt(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function N(t,n){var e=t.Component,r=t.country,a=t.defaultCountry,o=t.useNationalFormatForDefaultCountryValue,l=o===void 0?!0:o,f=t.value,s=t.onChange,y=t.metadata,c=t.international,C=t.withCountryCallingCode,d=Vt(t,Et),P=Tt({value:f,onChange:s,country:r,defaultCountry:a,international:c,withCountryCallingCode:C,useNationalFormatForDefaultCountryValue:l,metadata:y}),v=Nt(P,2),g=v[0],b=v[1];return O.createElement(e,V({},d,{ref:n,metadata:y,international:c,withCountryCallingCode:C,country:r||a,value:g,onChange:b}))}N=O.forwardRef(N);N.propTypes={value:i.string,onChange:i.func.isRequired,country:i.string,defaultCountry:i.string,international:i.bool,withCountryCallingCode:i.bool,Component:i.elementType.isRequired,useNationalFormatForDefaultCountryValue:i.bool,metadata:It};const Wt=N;var Lt=["type","autoComplete","smartCaret","metadata"];function k(){return k=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},k.apply(this,arguments)}function qt(t,n){if(t==null)return{};var e=Mt(t,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function Mt(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function tt(t){function n(e,r){var a=e.type,o=a===void 0?"tel":a,l=e.autoComplete,f=l===void 0?"tel":l,s=e.smartCaret,y=s===void 0?!0:s,c=e.metadata,C=c===void 0?t:c,d=qt(e,Lt);return O.createElement(Wt,k({},d,{type:o,autoComplete:f,metadata:C,ref:r,Component:y?bt:jt}))}return n=O.forwardRef(n),n.propTypes={type:i.string,autoComplete:i.string,smartCaret:i.bool,metadata:i.object},n}tt();const zt=tt(ft);export{zt as P};
